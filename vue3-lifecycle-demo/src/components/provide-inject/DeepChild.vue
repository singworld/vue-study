<script setup>
import { inject } from 'vue'

// ========== Inject ==========
// TODO(human): ä½¿ç”¨ inject ä»ç¥–å…ˆç»„ä»¶è·å–æ•°æ®
// inject å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š
//   1. key (å­—ç¬¦ä¸²) - ä¸ provide ä¸­ä½¿ç”¨çš„ key åŒ¹é…
//   2. defaultValue (å¯é€‰) - å¦‚æœæ²¡æœ‰æ‰¾åˆ° provide çš„æ•°æ®æ—¶ä½¿ç”¨çš„é»˜è®¤å€¼
//
// éœ€è¦æ³¨å…¥çš„æ•°æ®ï¼š
//   - 'themeColor' - ä¸»é¢˜é¢œè‰²
//   - 'username' - ç”¨æˆ·å
//
// ç¤ºä¾‹è¯­æ³•: const xxx = inject('key', 'é»˜è®¤å€¼')

const injectedTheme = null    // æ›¿æ¢ä¸ºæ­£ç¡®çš„ inject è°ƒç”¨
const injectedUsername = null // æ›¿æ¢ä¸ºæ­£ç¡®çš„ inject è°ƒç”¨
</script>

<template>
  <div class="deep-child" :style="{ borderColor: injectedTheme }">
    <div class="content">
      <h4>ğŸ‘¶ æ·±å±‚å­ç»„ä»¶ (DeepChild)</h4>
      <p>
        æ¥æ”¶åˆ°çš„ä¸»é¢˜é¢œè‰²:
        <span class="color-value" :style="{ color: injectedTheme, fontWeight: 'bold' }">
          {{ injectedTheme || 'æœªæ³¨å…¥' }}
        </span>
      </p>
      <p>
        æ¥æ”¶åˆ°çš„ç”¨æˆ·å:
        <strong>{{ injectedUsername || 'æœªæ³¨å…¥' }}</strong>
      </p>
    </div>
  </div>
</template>

<style scoped>
.deep-child {
  margin-left: 20px;
  padding: 10px;
  border-left: 3px solid #ccc;
  position: relative;
}

.deep-child::before {
  content: "";
  position: absolute;
  left: -3px;
  top: 50%;
  width: 15px;
  height: 3px;
  background: #ccc;
}

.content {
  padding: 15px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.content h4 {
  color: #333;
  margin-bottom: 10px;
}

.content p {
  margin: 8px 0;
}

.color-value {
  padding: 2px 8px;
  background: #f5f5f5;
  border-radius: 4px;
}
</style>
