<script setup>
import { ref } from 'vue'

// ========== ç»„ä»¶å†…éƒ¨çŠ¶æ€ ==========
const privateData = ref('è¿™æ˜¯ç§æœ‰æ•°æ®ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®')
const exposedData = ref('è¿™æ˜¯æš´éœ²çš„æ•°æ®')
const exposedCount = ref(0)

// ========== æ–¹æ³• ==========
const privateMethod = () => {
  console.log('ç§æœ‰æ–¹æ³•è¢«è°ƒç”¨ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®')
}

const exposedMethod = () => {
  exposedCount.value++
  alert(`æš´éœ²çš„æ–¹æ³•è¢«è°ƒç”¨äº† ${exposedCount.value} æ¬¡`)
  return `è°ƒç”¨æ¬¡æ•°ï¼š${exposedCount.value}`
}

// ========== defineExpose ==========
// ä½¿ç”¨ defineExpose æ˜¾å¼æŒ‡å®šå“ªäº›å†…å®¹å¯ä»¥è¢«çˆ¶ç»„ä»¶é€šè¿‡ ref è®¿é—®
// æœªåˆ—å‡ºçš„å±æ€§å’Œæ–¹æ³•å¯¹çˆ¶ç»„ä»¶ä¸å¯è§
defineExpose({
  exposedData,
  exposedMethod,
  exposedCount
})
</script>

<template>
  <div class="expose-component">
    <h4>ğŸ” ç»„ä»¶å®ä¾‹ï¼ˆdefineExpose ç¤ºä¾‹ï¼‰</h4>

    <div class="info-row">
      <span class="label">ç§æœ‰æ•°æ®:</span>
      <span class="value private">{{ privateData }}</span>
    </div>

    <div class="info-row">
      <span class="label">æš´éœ²çš„æ•°æ®:</span>
      <span class="value exposed">{{ exposedData }}</span>
    </div>

    <div class="info-row">
      <span class="label">è°ƒç”¨æ¬¡æ•°:</span>
      <span class="value">{{ exposedCount }}</span>
    </div>
  </div>
</template>

<style scoped>
.expose-component {
  padding: 15px;
  background: #f5f5f5;
  border-radius: 8px;
  border: 2px solid #e0e0e0;
}

.expose-component h4 {
  color: #333;
  margin-bottom: 15px;
}

.info-row {
  display: flex;
  align-items: center;
  margin: 8px 0;
  padding: 8px;
  background: white;
  border-radius: 4px;
}

.label {
  font-weight: 500;
  color: #666;
  min-width: 100px;
}

.value {
  color: #333;
}

.value.private {
  color: #f44336;
  font-style: italic;
}

.value.exposed {
  color: #4caf50;
  font-weight: 500;
}
</style>
